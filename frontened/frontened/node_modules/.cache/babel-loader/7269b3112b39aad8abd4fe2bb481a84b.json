{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SAIKAT\\\\OneDrive\\\\Desktop\\\\NEWAPP\\\\frontened\\\\frontened\\\\src\\\\components\\\\viewimage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport NavigationBar from './NavigationBar';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Viewimage() {\n  _s();\n\n  const [newslist, setNewsList] = useState([]);\n  const [msg, setMsg] = useState(\"\");\n  const [users, upUser] = useState();\n  let uid = sessionStorage.getItem('useremail'); // console.log(uid);\n\n  useEffect(() => {\n    axios.get('http://localhost:4500/emp/viewall/' + uid).then(response => {\n      setNewsList(response.data); // console.log(response.data)\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  function viewNews() {\n    return newslist.map((currentrow, index) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: [index, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [currentrow.title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [currentrow.catagory, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: currentrow.img_path,\n            width: 250,\n            alt: currentrow.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 25\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeRow(index),\n            className: \"btn btn-danger\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 22\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  ;\n\n  function removeRow(index) {\n    var tempemplist = [...newslist]; // make a new copy of array instead of mutating the same array directly. \n\n    let removerow = tempemplist.splice(index, 1);\n    console.log(removerow[0].authoremail);\n    axios.delete('http://localhost:4500/emp/remove1/' + removerow[0].authoremail).then(res => {\n      setMsg('SUCCESSFULLY DELETED');\n      setNewsList(tempemplist);\n    }).catch(err => {\n      console.log(err);\n      setMsg('INVALID EMAIL ID');\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavigationBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), msg, /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Serial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Catagory\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: viewNews()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Viewimage, \"PNCcuVRbUnNIusIFB0hRal3rvb8=\");\n\n_c = Viewimage;\nexport default Viewimage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Viewimage\");","map":{"version":3,"sources":["C:/Users/SAIKAT/OneDrive/Desktop/NEWAPP/frontened/frontened/src/components/viewimage.js"],"names":["React","useState","useEffect","Link","Navbar","Nav","NavDropdown","NavigationBar","axios","Viewimage","newslist","setNewsList","msg","setMsg","users","upUser","uid","sessionStorage","getItem","get","then","response","data","catch","error","console","log","viewNews","map","currentrow","index","title","catagory","img_path","removeRow","tempemplist","removerow","splice","authoremail","delete","res","err"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\nimport NavigationBar from './NavigationBar';\r\nimport axios from 'axios';\r\nfunction Viewimage() {\r\n    const [newslist, setNewsList] = useState([]);\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [users, upUser] = useState();\r\n\r\n    let uid = sessionStorage.getItem('useremail')\r\n    // console.log(uid);\r\n    useEffect(() => {\r\n        axios.get('http://localhost:4500/emp/viewall/' + uid)\r\n            .then(response => {\r\n                setNewsList(response.data);\r\n                // console.log(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n    }, [])\r\n    function viewNews() {\r\n        return newslist.map((currentrow, index) => {\r\n\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{index} </td>\r\n                    <td>{currentrow.title} </td>\r\n                    <td>{currentrow.catagory} </td>\r\n                    <td><img src={currentrow.img_path} width={250} alt={currentrow.title} /> </td>\r\n                     <td><button onClick={() => removeRow(index)} className=\"btn btn-danger\">Delete</button></td> \r\n                    \r\n                </tr>\r\n            )\r\n        })\r\n    };\r\n    function removeRow(index) {\r\n        var tempemplist = [...newslist]; // make a new copy of array instead of mutating the same array directly. \r\n        let removerow = tempemplist.splice(index, 1);\r\n        console.log(removerow[0].authoremail)\r\n        axios.delete('http://localhost:4500/emp/remove1/' + removerow[0].authoremail)\r\n          .then(res => {\r\n            setMsg('SUCCESSFULLY DELETED')\r\n            setNewsList(tempemplist)\r\n          })\r\n          .catch(err => {\r\n            console.log(err)\r\n            setMsg('INVALID EMAIL ID')\r\n          })\r\n      }\r\n    return (\r\n        <div>\r\n            <NavigationBar />\r\n    \r\n            {msg}\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Serial</th>\r\n                        <th>Title</th>\r\n                        <th>Catagory</th>\r\n                        <th>Image</th>\r\n                        <th>Delete</th>\r\n                        \r\n\r\n                        \r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {viewNews()}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\nexport default Viewimage"]},"metadata":{},"sourceType":"module"}